# Minimalist Stats Workflow
name: Generate Minimal Text Stats

on:
  schedule:
    - cron: "0 0 * * *" # Runs every 24 hours
  workflow_dispatch: # Allows manual trigger

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          
          # Disable all default visuals
          base: ""
          
          # Enable the lines plugin for text output
          plugin_lines: yes
          plugin_lines_sections: repositories
          
          # Define the specific stats you want
          # Note: {user.contributions} is the total contributions count for the current calendar year
          plugin_lines_repositories_template: |
            - >
              **Total Contributions (2025):** {user.contributions} &nbsp;·&nbsp;
              **Total PRs:** {user.pulls} &nbsp;·&nbsp;
              **Total Commits (2025):** {user.commits}
          
          filename: stats.svg
